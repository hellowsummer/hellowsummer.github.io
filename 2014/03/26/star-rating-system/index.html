<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="CSS,jQuery," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="Reference
Star Ratings With Very Little CSS
Font Awesome
Code SnippetA list of Font Awesome icons and their CSS content values
This Markdown file is written using Cmd 在线 Markdown 编辑阅读器

(demo TBA)">
<meta property="og:type" content="article">
<meta property="og:title" content="Star Rating System">
<meta property="og:url" content="http://hellowsummer.github.io/2014/03/26/star-rating-system/index.html">
<meta property="og:site_name" content="Liwen Lu">
<meta property="og:description" content="Reference
Star Ratings With Very Little CSS
Font Awesome
Code SnippetA list of Font Awesome icons and their CSS content values
This Markdown file is written using Cmd 在线 Markdown 编辑阅读器

(demo TBA)">
<meta property="og:updated_time" content="2014-03-27T02:47:40.132Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Star Rating System">
<meta name="twitter:description" content="Reference
Star Ratings With Very Little CSS
Font Awesome
Code SnippetA list of Font Awesome icons and their CSS content values
This Markdown file is written using Cmd 在线 Markdown 编辑阅读器

(demo TBA)">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> Star Rating System | Liwen Lu </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Liwen Lu</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            標籤
          </a>
        </li>
      

      
      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Star Rating System
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">發表於</span>
            <time itemprop="dateCreated" datetime="2014-03-26T22:28:25-04:00" content="2014-03-26">
              2014-03-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Front-End/" itemprop="url" rel="index">
                    <span itemprop="name">Front End</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><a href="http://css-tricks.com/star-ratings/" target="_blank" rel="external">Star Ratings With Very Little CSS</a></li>
<li><a href="http://fortawesome.github.io/Font-Awesome/examples/" target="_blank" rel="external">Font Awesome</a></li>
<li><a href="http://astronautweb.co/snippet/font-awesome/" target="_blank" rel="external">Code Snippet<br>A list of Font Awesome icons and their CSS content values</a></li>
<li>This Markdown file is written using <a href="https://www.zybuluo.com/mdeditor?url=https%3A%2F%2Fwww.zybuluo.com%2Fstatic%2Feditor%2Fmd-help.markdown" target="_blank" rel="external">Cmd 在线 Markdown 编辑阅读器</a></li>
</ol>
<p>(demo TBA)</p>
<a id="more"></a>
<h2 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h2><ul>
<li>HTML<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&amp;lt;div class="rating"&gt;</span><br><span class="line">    &amp;lt;span class="star"&gt;&amp;lt;/star&gt;</span><br><span class="line">    &amp;lt;span class="star"&gt;&amp;lt;/star&gt;</span><br><span class="line">    &amp;lt;span class="star"&gt;&amp;lt;/star&gt;</span><br><span class="line">    &amp;lt;span class="star"&gt;&amp;lt;/star&gt;</span><br><span class="line">    &amp;lt;span class="star"&gt;&amp;lt;/star&gt;</span><br><span class="line">&amp;lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Solution_231_-_No_Javascript_invovled"><a href="#Solution_231_-_No_Javascript_invovled" class="headerlink" title="Solution#1 - No Javascript invovled"></a>Solution#1 - No Javascript invovled</h2><p>To show the star, use <code>::before</code> psedu-element. Initially, the content is set to <code>\f0006</code>, which is displayed as a hollow star by using font-awesome. When a star is selected, the content of current and all previous star will be set to <code>\f0005</code>, which corresponds to a solid star.  </p>
<p>CSS selector <strong>(selector1) ~(selector2)</strong>: select all elements of selector2 that are siblings <strong>after</strong> some element of selector1</p>
<p>However, we want the stars  <strong>before</strong> current star. To do this, we set the direction of the text from right to left. Visually, <strong>(selector1) ~(selector2)</strong> will now select the elements of selector2 that are siblings “before” select1 (but in fact after them)</p>
<ul>
<li>CSS code<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.rating</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">direction</span>:<span class="value"> rtl</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.rating</span> <span class="tag">span</span><span class="class">.star</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">font-family</span>:<span class="value"> FontAwesome</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.rating</span> <span class="tag">span</span><span class="class">.star</span><span class="pseudo">:before</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">content</span>:<span class="value"><span class="string">"\f006"</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">padding-right</span>:<span class="value"> <span class="number">5px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"><span class="class">.rating</span> <span class="tag">span</span><span class="class">.star</span><span class="pseudo">:hover</span><span class="pseudo">:before</span>, <span class="class">.rating</span> <span class="tag">span</span><span class="class">.star</span><span class="pseudo">:hover</span> ~ <span class="tag">span</span><span class="class">.star</span><span class="pseudo">:before</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">content</span>:<span class="value"><span class="string">"\f005"</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> yellow</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Note: suppose we want to “submit” information about the rating, we must have JavaScript involved. This solution is purely for display.</p>
<h2 id="Solution__232_3A_CSS_+_jQuery"><a href="#Solution__232_3A_CSS_+_jQuery" class="headerlink" title="Solution #2: CSS + jQuery"></a>Solution #2: CSS + jQuery</h2><p>Since we now have jQuery involved, we control the stars through jQuery instead of using the <strong>~</strong> selector, and we can get rid of the right to left direction. </p>
<p>Now we add a new class called <code>fill</code>. now <code>.fill.star</code> would represent a solid star, while <code>.star</code> sololy will represent a hollow star.</p>
<ul>
<li><p>CSS code</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.rating</span> <span class="rules">&#123; <span class="rule"><span class="attribute">direction</span>:<span class="value"> ltr</span></span>; &#125;</span></span><br><span class="line"><span class="class">.rating</span> <span class="tag">span</span><span class="class">.star</span><span class="pseudo">:before</span><span class="rules">&#123; <span class="rule"><span class="attribute">content</span>:<span class="value"><span class="string">"\f006"</span></span></span>; &#125;</span></span><br><span class="line"><span class="class">.rating</span> <span class="tag">span</span><span class="class">.star</span><span class="class">.fill</span><span class="pseudo">:before</span> <span class="rules">&#123;<span class="rule"><span class="attribute">content</span>:<span class="value"><span class="string">"\f005"</span></span></span>;&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>HTML</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&amp;lt;div class="rating"&gt;</span><br><span class="line">    &amp;lt;span class="star" id="star1"&gt;&amp;lt;/star&gt;</span><br><span class="line">    &amp;lt;span class="star" id="star2"&gt;&amp;lt;/star&gt;</span><br><span class="line">    &amp;lt;span class="star" id="star3"&gt;&amp;lt;/star&gt;</span><br><span class="line">    &amp;lt;span class="star" id="star4"&gt;&amp;lt;/star&gt;</span><br><span class="line">    &amp;lt;span class="star" id="star5"&gt;&amp;lt;/star&gt;</span><br><span class="line">&amp;lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>JavaScript (jQuery)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rating = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> hoverStar = <span class="function"><span class="keyword">function</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// when hover, remove .fill for the star after hovered star, and add .fill for the rest</span></span><br><span class="line">    <span class="keyword">for</span> (int i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++) &#123;</span><br><span class="line">        i&lt;=id ? $(<span class="string">'#star'</span>+i).addClass(<span class="string">'fill'</span>) : $(<span class="string">'#star'</span>+i).removeClass(<span class="string">'fill'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> leaveStar = <span class="function"><span class="keyword">function</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// a star is hovered but  not clicked, then restore back to the last time a star is clicked</span></span><br><span class="line">    hoverStar(rating);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// add hoverStar and leaveStar for the .star elements</span></span><br><span class="line">$(<span class="string">'.star'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).hover(</span><br><span class="line">        <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;hoverStar(index+<span class="number">1</span>)&#125;, <span class="comment">// hover</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;leaveStar(index+<span class="number">1</span>)&#125;  <span class="comment">// mouse leave</span></span><br><span class="line">    );</span><br><span class="line">    $(<span class="keyword">this</span>).click(</span><br><span class="line">        rating = index+<span class="number">1</span>; <span class="comment">// when clicked, need to set the rating</span></span><br><span class="line">        hoverStar(index+<span class="number">1</span>);</span><br><span class="line">    );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> onSubmit= <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// do whatever needed to submit rating</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Solution_3_3A_Different_Approach"><a href="#Solution_3_3A_Different_Approach" class="headerlink" title="Solution 3: Different Approach"></a>Solution 3: Different Approach</h2><p><a href="http://css-tricks.com/star-ratings/" target="_blank" rel="external">Star Ratings With Very Little CSS</a> mentioned an approach using radio button. </p>
<p>Without reading the article, here are some thoughts.</p>
<ul>
<li><code>.rating</code> should now be a group of radio button, <code>.star</code> are the options</li>
<li>Same solution #1, <code>.rating</code> should have right to left direction. <code>.star</code> should also be the same as solution #1 (<code>:before</code> and <strong>~</strong> selector)</li>
<li>the value for the <code>.star</code> options, in the order they appear in HTML, should be 5,4,3,2,1, since the first <code>.star</code> element appear in HTML will display as the rightmost element visually on the webpage</li>
</ul>

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/CSS/" rel="tag">#CSS</a>
          
            <a href="/tags/jQuery/" rel="tag">#jQuery</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/01/31/how-i-screwed-up-the-first-interview/" rel="next" title="Interview #1 - Jan 30. 2014">
                <i class="fa fa-chevron-left"></i> Interview #1 - Jan 30. 2014
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2014/05/20/sql-study-note-1/" rel="prev" title="SQL study(review) note">
                SQL study(review) note <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/default_avatar.jpg"
               alt="Liwen Lu" />
          <p class="site-author-name" itemprop="name">Liwen Lu</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">7</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">2</span>
              <span class="site-state-item-name">分類</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">7</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">1.</span> <span class="nav-text">Reference</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Setup"><span class="nav-number">2.</span> <span class="nav-text">Setup</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution_231_-_No_Javascript_invovled"><span class="nav-number">3.</span> <span class="nav-text">Solution#1 - No Javascript invovled</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution__232_3A_CSS_+_jQuery"><span class="nav-number">4.</span> <span class="nav-text">Solution #2: CSS + jQuery</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution_3_3A_Different_Approach"><span class="nav-number">5.</span> <span class="nav-text">Solution 3: Different Approach</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liwen Lu</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  


  



  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  
  
<script type="text/javascript" src="/js/src/scrollspy.js?v=0.5.0"></script>

<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = NexT.utils.escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    NexT.motion.middleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');

      if (CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          NexT.utils.displaySidebar();
        }
      }
    };
  });
</script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  



  



  
  

  
  


</body>
</html>
